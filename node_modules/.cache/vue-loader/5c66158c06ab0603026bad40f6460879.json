{"remainingRequest":"/Users/ahmad/Documents/vue-api/vuefrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ahmad/Documents/vue-api/vuefrontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ahmad/Documents/vue-api/vuefrontend/src/views/Login.vue","mtime":1568379839202},{"path":"/Users/ahmad/Documents/vue-api/vuefrontend/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/ahmad/Documents/vue-api/vuefrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ahmad/Documents/vue-api/vuefrontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\n\nexport default {\n  data: () => ({\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    loading: false\n  }),\n\n  methods: {\n    preformLogin: function() {\n      this.loading = true;\n      // console.log(`hello ${this.username} and ${this.password}`);\n      // this.username = \"\";\n      // this.password = \"\";\n      // this.$router.push(\"/\");\n      axios\n        .post(\"/login\", {\n          email: this.email,\n          password: this.password\n        })\n        .then(response => {\n          console.log(response.data);\n          const token = localStorage.setItem(\n            \"token\",\n            response.data.access_token\n          );\n          const user = localStorage.setItem(\"user\", response.data.user);\n          // this.rightLogin = \"welcome\";\n          this.loading = false;\n          window.isSignedIn = true;\n          Bus.$emit(\"loggedIn\");\n          this.$router.push(\"/profile\");\n\n          // store user and token in localstorge\n        })\n        .catch(error => {\n          // console.log(error);\n          this.error = error.message;\n          this.loading = false;\n        });\n    }\n  }\n};\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container>\n    <v-card flat class=\"white mx-auto mt-5 pb-1\" width=\"900\">\n      <div>\n        <v-alert text outlined color=\"warning\" icon=\"mdi-fire\" v-if=\"error\">{{error}}</v-alert>\n      </div>\n\n      <v-form>\n        <v-card-title>\n          <h1 class=\"grey--text display-1\">Login</h1>\n        </v-card-title>\n        <v-card-text>\n          <v-text-field label=\"email\" type=\"text\" v-model=\"email\" prepend-icon=\"person\">{{email}}</v-text-field>\n          <v-text-field\n            label=\"Password\"\n            type=\"password\"\n            v-model=\"password\"\n            prepend-icon=\"lock\"\n          >{{password}}</v-text-field>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-btn depressed color=\"info ml-3\" @click.prevent=\"preformLogin\" :loading=\"loading\">Login</v-btn>\n        </v-card-actions>\n      </v-form>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data: () => ({\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    loading: false\n  }),\n\n  methods: {\n    preformLogin: function() {\n      this.loading = true;\n      // console.log(`hello ${this.username} and ${this.password}`);\n      // this.username = \"\";\n      // this.password = \"\";\n      // this.$router.push(\"/\");\n      axios\n        .post(\"/login\", {\n          email: this.email,\n          password: this.password\n        })\n        .then(response => {\n          console.log(response.data);\n          const token = localStorage.setItem(\n            \"token\",\n            response.data.access_token\n          );\n          const user = localStorage.setItem(\"user\", response.data.user);\n          // this.rightLogin = \"welcome\";\n          this.loading = false;\n          window.isSignedIn = true;\n          Bus.$emit(\"loggedIn\");\n          this.$router.push(\"/profile\");\n\n          // store user and token in localstorge\n        })\n        .catch(error => {\n          // console.log(error);\n          this.error = error.message;\n          this.loading = false;\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n</style>"]}]}